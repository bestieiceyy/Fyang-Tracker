<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fyang Live Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #eee; padding: 20px; }
    .green { color: #00ff00; }
    .red { color: #ff4444; }
    .time { font-weight: bold; margin-bottom: 10px; }
    .line { margin: 4px 0; }
  </style>
</head>
<body>
  <div id="tracker"></div>

  <script>
    // Fake vote counts (for demo)
    let fyangPrev = 0, willPrev = 0, diffPrev = 0;

    function updateVotes(fyangVotes, willVotes) {
      const fyangAdded = fyangVotes - fyangPrev;
      const willAdded = willVotes - willPrev;
      const diff = fyangVotes - willVotes;
      const diffAdded = diff - diffPrev;

      const timeStr = new Date().toLocaleTimeString();

      // Candidate added votes with +/-
      const fyangAddedStr = (fyangAdded >= 0 ? `+${fyangAdded}` : fyangAdded);
      const willAddedStr = (willAdded >= 0 ? `+${willAdded}` : willAdded);

      // Gap change with colors
      let diffAddedStr = "";
      if (diffAdded > 0) diffAddedStr = `<span class="green">(+${diffAdded.toLocaleString()})</span>`;
      else if (diffAdded < 0) diffAddedStr = `<span class="red">(${diffAdded.toLocaleString()})</span>`;
      else diffAddedStr = "(0)";

      let gapText = "";
      if (diff > 0) {
        gapText = `Gap: ${diff.toLocaleString()} ${diffAddedStr} Fyang leading`;
      } else if (diff < 0) {
        gapText = `Gap: ${Math.abs(diff).toLocaleString()} ${diffAddedStr} Will leading`;
      } else {
        gapText = `Gap: 0 ${diffAddedStr} Tied`;
      }

      document.getElementById("tracker").innerHTML = `
        <div class="time">⏱️ ${timeStr}</div>
        <div class="line">Fyang Smith: ${fyangVotes.toLocaleString()} votes (${fyangAddedStr})</div>
        <div class="line">Will Ashley: ${willVotes.toLocaleString()} votes (${willAddedStr})</div>
        <div class="line">${gapText}</div>
      `;

      // Save previous values for next update
      fyangPrev = fyangVotes;
      willPrev = willVotes;
      diffPrev = diff;
    }

    // Demo: simulate updates every 1s
    let fy = 100000, wi = 98000;
    setInterval(() => {
      fy += Math.floor(Math.random() * 30);
      wi += Math.floor(Math.random() * 30);
      updateVotes(fy, wi);
    }, 1000);
  </script>
</body>
</html>
